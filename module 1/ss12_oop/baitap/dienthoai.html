<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Điện Thoại</title>
</head>
<body>
<script>
    class Mobile {
        constructor(battery, status) {
            if (battery > 0 && battery <= 100) {
                this.battery = battery;
            }
            this.dangsoanthao = [];
            this.hopthuden = [];
            this.tinnhandagui = [];
            this.status = status;
        }

        onStatus() {
            return this.status = 1;
        }

        offStatus() {
            return this.status = -1;
        }

        chargeBattery() {
            if (this.battery <= 100) {
                this.battery++;
            }
        }

        soantinnhan() {
            if (this.status === 1) {
                this.dangsoanthao = prompt("Nhập Tin Nhắn Bạn Muốn Gửi")
                this.sendMessage(this.dangsoanthao);
                this.battery--;
            }
        }
        sendMessage(message){
            let choose = prompt("ban muon gui cho ai? \n" +
                "1. nokia" +
                "2. iphone ")
            if(choose == 1) {
                console.log("come here")
                nokia.receiveMessage(message);
            } else {
                iphone.receiveMessage(message);
            }
        }
        dagui()
        {
            console.log("tin nhắn đã gửi có:" + this.hopthuden);
            this.battery--;
        }
        receiveMessage(message){
            this.hopthuden.push(message);
        }
        hopthuden1() {
            if (this.status === 1) {
                console.log("Hộp thư của bạn có " + this.hopthuden.length + "Tin nhắn mới là:"+ " " + this.hopthuden);
                this.battery--;
            }
        }
    }

    let iphone = new Mobile(26, 1);
    let nokia = new Mobile(36, 1);
    // iphone.chargeBattery();
    iphone.onStatus();
    // iphone.soantinnhan();
    // iphone.soantinnhan();
    iphone.soantinnhan();
    iphone.hopthuden1();
    iphone.dagui();
    nokia.hopthuden1(console.log("Tin Nhắn Được gửi đến là :" + iphone.hopthuden));


</script>
</body>
</html>